{% extends "base.html" %}

{% block title %}Admin Reports{% endblock %}

{% block content %}
  <h1 style="margin-top:0;">Reports</h1>
  <p class="muted">Top requested services vs top used providers (contact + website clicks).</p>

  <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));">
    <div class="card">
      <strong>Top requested (categories)</strong>
      <div class="spacer-12"></div>
      {% if top_requested %}
        <ol style="margin: 0; padding-left: 18px;">
          {% for row in top_requested %}
            <li>{{ row.service_category__name }} — {{ row.total }}</li>
          {% endfor %}
        </ol>
      {% else %}
        <div class="muted">No requests yet.</div>
      {% endif %}
    </div>

    <div class="card">
      <strong>Top used (providers)</strong>
      <div class="spacer-12"></div>
      {% if top_used %}
        <ol style="margin: 0; padding-left: 18px;">
          {% for row in top_used %}
            <li>{{ row.provider__name }} — {{ row.total }}</li>
          {% endfor %}
        </ol>
      {% else %}
        <div class="muted">No usage yet (contact/click).</div>
      {% endif %}
    </div>
  </div>

  <div class="spacer-16"></div>
  <div class="card">
    <strong>Quick links</strong>
    <div class="spacer-12"></div>
    <div class="row">
      <a class="btn" href="/admin/">Django Admin</a>
      <a class="btn" href="/dashboard/">Dashboard</a>
    </div>
  </div>
{% endblock %}
